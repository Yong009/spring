<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://code.jquery.com/jquery-3.6.4.js" integrity="sha256-a9jBBRygX1Bh5lt8GZjXDzyOB+bWve9EiO7tROUtj/E=" crossorigin="anonymous"></script>
    
    <style>
        .fruit {
            color: blue
        }
    </style>

</head>

<body>
    <input id="txt"><button type="button" id="btn">등록</button>
    <div id="result">
        <div data-cnt="1" class="fruitgroup">
            <div><span class="fruit">사과</span><span class="addr">대구</span></div>
            <div class="price">2000</div>
        </div>

        <div data-cnt="2" class="fruitgroup">
            <div><span class="fruit">배</span><span>부산</span></div>
            <div>1000</div>
        </div>
    </div>
    <script>
        //div.fruit 클릭 이벤트 : 직접 이벤트 -> 그룹이벤트
        $('#result').on("click",".fruit" ,function () {
                
                let fruit  = $(event.target)

                //과일명, 금액
                let div = fruit.closest(".fruitgroup");
                let addr = div.find(".addr").html();
                let cnt = div.attr('data-cnt');
                let price = div.find('.price').html();

                alert(`${addr} ${cnt} ${price}`);
                
        })

        //클릭된 태그의 data-cnt 속성값을 alert 출력



        //등록버튼을 클릭 이벤트 : addEventListener
        document.getElementsByTagName("button")[0].addEventListener("click", function () {
            //input 태그값을 div에 추가 : innerHTML
            //document.querySelector("#result").innerHTML += `<div class=fruit data-cnt="1">${txt.value}</div>`;
            let div = document.createElement('div') // 태그 생성
            div.innerText = txt.value; //태그내용 변경
            div.classList.add("fruit"); //클래스 추가
            div.setAttribute("data-cnt", "1");
            result.append(div); //부모태그에 추가
        });
    </script>
</body>

</html>